// Remove existing RCS switch
@PART:HAS[@MODULE[ModuleRCS*]:HAS[#chemTechPropellant]]:BEFORE[zzz_ChemicalPropulsion]
{
	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[RCS]] {}
}
@PART:HAS[@MODULE[ModuleRCS*]:HAS[#chemTechFuel,#chemTechOxidizer]]:BEFORE[zzz_ChemicalPropulsion]
{
	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[RCS]] {}
}

// Propellant
@PART:HAS[@MODULE:HAS[#chemTechPropellant[HTP]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechPropellant],~resourceName]
	{
		resourceName = HTP
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechPropellantSwitch]]
	{
		chemTechSwitchResourceName = HTP
	}
}
@PART:HAS[@MODULE:HAS[#chemTechPropellant[Hydrazine]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechPropellant]]
	{
		// Overwrite resourceName so that base stats are for hydrazine, while HTP is the default option and has reduced performance
		%resourceName = Hydrazine
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechPropellantSwitch]]
	{
		chemTechSwitchResourceName = Hydrazine
	}
}
@PART:HAS[@MODULE:HAS[#chemTechPropellant[LqdAmmonia]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechPropellant],~resourceName]
	{
		resourceName = LqdAmmonia
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechPropellantSwitch]]
	{
		chemTechSwitchResourceName = LqdAmmonia
	}
}
@PART:HAS[@MODULE:HAS[#chemTechPropellant[LqdMethane]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechPropellant],~resourceName]
	{
		resourceName = LqdMethane
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechPropellantSwitch]]
	{
		chemTechSwitchResourceName = LqdMethane
	}
}
@PART:HAS[@MODULE:HAS[#chemTechPropellant[LqdHydrogen]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechPropellant],~resourceName]
	{
		resourceName = LqdHydrogen
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechPropellantSwitch]]
	{
		chemTechSwitchResourceName = LqdHydrogen
	}
}
@PART:HAS[@MODULE:HAS[#chemTechPropellant[Pentaborane]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechPropellant],~resourceName]
	{
		resourceName = Pentaborane
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechPropellantSwitch]]
	{
		chemTechSwitchResourceName = Pentaborane
	}
}
@PART:HAS[@MODULE:HAS[#chemTechPropellant[Diborane]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechPropellant],~resourceName]
	{
		resourceName = Diborane
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechPropellantSwitch]]
	{
		chemTechSwitchResourceName = Diborane
	}
}
@PART:HAS[@MODULE:HAS[#chemTechPropellant[LqdFluorine]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechPropellant],~resourceName]
	{
		resourceName = LqdFluorine
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechPropellantSwitch]]
	{
		chemTechSwitchResourceName = LqdFluorine
	}
}
@PART:HAS[@MODULE:HAS[#chemTechPropellant[N2F4]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechPropellant],~resourceName]
	{
		resourceName = N2F4
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechPropellantSwitch]]
	{
		chemTechSwitchResourceName = N2F4
	}
}
@PART:HAS[@MODULE:HAS[#chemTechPropellant[PBAN]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechPropellant],~resourceName]
	{
		resourceName = PBAN
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechPropellantSwitch]]
	{
		chemTechSwitchResourceName = PBAN
	}
}
@PART:HAS[@MODULE:HAS[#chemTechPropellant[HTPB]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechPropellant],~resourceName]
	{
		resourceName = HTPB
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechPropellantSwitch]]
	{
		chemTechSwitchResourceName = HTPB
	}
}

// Fuel
@PART:HAS[@MODULE:HAS[#chemTechFuel[Ethanol]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechFuel],~resourceName]
	{
		resourceName = Ethanol
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechFuelSwitch]]
	{
		chemTechSwitchResourceName = Ethanol
	}
}
@PART:HAS[@MODULE:HAS[#chemTechFuel[Kerosene]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechFuel],~resourceName]
	{
		resourceName = Kerosene
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechFuelSwitch]]
	{
		chemTechSwitchResourceName = Kerosene
	}
}
@PART:HAS[@MODULE:HAS[#chemTechFuel[LqdAmmonia]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechFuel],~resourceName]
	{
		resourceName = LqdAmmonia
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechFuelSwitch]]
	{
		chemTechSwitchResourceName = LqdAmmonia
	}
}
@PART:HAS[@MODULE:HAS[#chemTechFuel[Hydrazine]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechFuel],~resourceName]
	{
		resourceName = Hydrazine
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechFuelSwitch]]
	{
		chemTechSwitchResourceName = Hydrazine
	}
}
@PART:HAS[@MODULE:HAS[#chemTechFuel[LqdMethane]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechFuel],~resourceName]
	{
		resourceName = LqdMethane
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechFuelSwitch]]
	{
		chemTechSwitchResourceName = LqdMethane
	}
}
@PART:HAS[@MODULE:HAS[#chemTechFuel[LqdHydrogen]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechFuel],~resourceName]
	{
		resourceName = LqdHydrogen
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechFuelSwitch]]
	{
		chemTechSwitchResourceName = LqdHydrogen
	}
}
@PART:HAS[@MODULE:HAS[#chemTechFuel[Pentaborane]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechFuel],~resourceName]
	{
		resourceName = Pentaborane
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechFuelSwitch]]
	{
		chemTechSwitchResourceName = Pentaborane
	}
}
@PART:HAS[@MODULE:HAS[#chemTechFuel[Diborane]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechFuel],~resourceName]
	{
		resourceName = Diborane
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechFuelSwitch]]
	{
		chemTechSwitchResourceName = Diborane
	}
}

// Oxidizer
@PART:HAS[@MODULE:HAS[#chemTechOxidizer[LqdOxygen]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechOxidizer],~resourceName]
	{
		resourceName = LqdOxygen
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechOxidizerSwitch]]
	{
		chemTechSwitchResourceName = LqdOxygen
	}
}
@PART:HAS[@MODULE:HAS[#chemTechOxidizer[IWFNA]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechOxidizer],~resourceName]
	{
		resourceName = IWFNA
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechOxidizerSwitch]]
	{
		chemTechSwitchResourceName = IWFNA
	}
}
@PART:HAS[@MODULE:HAS[#chemTechOxidizer[HTP]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechOxidizer],~resourceName]
	{
		resourceName = HTP
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechOxidizerSwitch]]
	{
		chemTechSwitchResourceName = HTP
	}
}
@PART:HAS[@MODULE:HAS[#chemTechOxidizer[NTO]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechOxidizer]]
	{
		// Overwrite resourceName so that base stats are for NTO, while IWFNA is the default option and has reduced performance
		%resourceName = NTO
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechOxidizerSwitch]]
	{
		chemTechSwitchResourceName = NTO
	}
}
@PART:HAS[@MODULE:HAS[#chemTechOxidizer[LqdFluorine]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechOxidizer],~resourceName]
	{
		resourceName = LqdFluorine
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechOxidizerSwitch]]
	{
		chemTechSwitchResourceName = LqdFluorine
	}
}
@PART:HAS[@MODULE:HAS[#chemTechOxidizer[N2F4]]]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionPropellant]:HAS[#moduleID[chemTechOxidizer],~resourceName]
	{
		resourceName = N2F4
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTechOxidizerSwitch]]
	{
		chemTechSwitchResourceName = N2F4
	}
}